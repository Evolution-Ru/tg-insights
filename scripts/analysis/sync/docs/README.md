# –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è Telegram ‚Üî Asana

–ï–¥–∏–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –¥–ª—è –¥–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω–µ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –∑–∞–¥–∞—á –º–µ–∂–¥—É –∞–Ω–∞–ª–∏–∑–æ–º Telegram –ø–µ—Ä–µ–ø–∏—Å–æ–∫ –∏ –ø—Ä–æ–µ–∫—Ç–∞–º–∏ –≤ Asana. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ —ç–º–±–µ–¥–¥–∏–Ω–≥–∏ –∏ GPT-5, –≤–∫–ª—é—á–∞–µ—Ç —Ä–∞–±–æ—Ç—É —Å Asana API –∫–∞–∫ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç.

## –°—É—Ç—å

**–ü—Ä–æ–±–ª–µ–º–∞:** –ó–∞–¥–∞—á–∏ –∏–∑ Telegram –∞–Ω–∞–ª–∏–∑–∞ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç Asana ‚Üí –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø–æ—Ç–µ—Ä—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞, –Ω–µ–∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å.

**–†–µ—à–µ–Ω–∏–µ:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ —ç–º–±–µ–¥–¥–∏–Ω–≥–∏ (–±—ã—Å—Ç—Ä–æ –∏ –¥–µ—à–µ–≤–æ), –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è —Å—É–º–º–∞—Ä–∏–∑–∞—Ü–∏—è –∑–∞–¥–∞—á Asana —á–µ—Ä–µ–∑ GPT-5, –æ–±–æ–≥–∞—â–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º, —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏—Ö –∑–∞–¥–∞—á.

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```python
from scripts.analysis.sync.core.asana_sync import AsanaSync
from pathlib import Path

# –°–æ–∑–¥–∞–µ–º —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ç–æ—Ä —Å V2 –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π
sync = AsanaSync(
    use_time_windows=True,           # –í—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫–Ω–∞ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
    use_embedding_cache=True,        # –ö–µ—à —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤
    use_task_summarization=True      # –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è —Å—É–º–º–∞—Ä–∏–∑–∞—Ü–∏—è –∑–∞–¥–∞—á Asana
)

# –ó–∞–≥—Ä—É–∂–∞–µ–º –∑–∞–¥–∞—á–∏
telegram_tasks = sync.load_telegram_tasks(Path("results/farma/extracted/farma_tasks_extracted.json"))
asana_tasks = [...]  # –ó–∞–≥—Ä—É–∑–∏—Ç—å —á–µ—Ä–µ–∑ MCP –∏–ª–∏ –∏–∑ —Ñ–∞–π–ª–∞

# –°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ V2 –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É
matching = sync.find_matching_tasks_v2(
    telegram_tasks,
    asana_tasks,
    similarity_threshold=0.75,
    low_threshold=0.65,
    use_embeddings=True,
    use_two_stage_matching=True,
    verbose=True
)

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–∞
report = sync.generate_sync_report(matching, Path("results/farma/sync/sync_report.json"))
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–æ–µ–∫—Ç –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω –ø–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º –º–æ–¥—É–ª—è–º:

```
sync/
‚îú‚îÄ‚îÄ core/                    # –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ asana_sync.py        # AsanaSync - –æ—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å
‚îÇ
‚îú‚îÄ‚îÄ utils/                   # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ extractors/          # –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ context_extractor.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ asana_summarizer.py
‚îÇ   ‚îú‚îÄ‚îÄ matchers/            # –°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ similarity_calculator.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ time_window.py
‚îÇ   ‚îú‚îÄ‚îÄ transformers/        # –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ task_transformer.py
‚îÇ   ‚îú‚îÄ‚îÄ reporting/           # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ report_generator.py
‚îÇ   ‚îú‚îÄ‚îÄ cache/               # –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ embedding_cache.py
‚îÇ   ‚îî‚îÄ‚îÄ loaders/             # –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
‚îÇ       ‚îî‚îÄ‚îÄ data_loader.py
‚îÇ
‚îú‚îÄ‚îÄ api/                     # –†–∞–±–æ—Ç–∞ —Å –≤–Ω–µ—à–Ω–∏–º–∏ API
‚îÇ   ‚îú‚îÄ‚îÄ asana_mcp_helpers.py
‚îÇ   ‚îî‚îÄ‚îÄ direct_mcp.py
‚îÇ
‚îú‚îÄ‚îÄ scripts/                 # –°–∫—Ä–∏–ø—Ç—ã –∑–∞–ø—É—Å–∫–∞
‚îÇ   ‚îî‚îÄ‚îÄ sync_farma.py        # –°–∫—Ä–∏–ø—Ç –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ "–§–∞—Ä–º–∞+"
‚îÇ
‚îú‚îÄ‚îÄ tests/                   # –¢–µ—Å—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ test_v2.py
‚îÇ   ‚îî‚îÄ‚îÄ test_asana_tasks.json
‚îÇ
‚îî‚îÄ‚îÄ docs/                    # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
    ‚îú‚îÄ‚îÄ README.md
    ‚îú‚îÄ‚îÄ ARCHITECTURE_V2.md
    ‚îú‚îÄ‚îÄ BEST_PRACTICES.md
    ‚îú‚îÄ‚îÄ OPTIMIZATION.md
    ‚îî‚îÄ‚îÄ TESTING_PLAN.md
```

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

**–Ø–¥—Ä–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ (`core/`):**
- `asana_sync.py` - –æ—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å `AsanaSync` –¥–ª—è —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

**–£—Ç–∏–ª–∏—Ç—ã (`utils/`):**
- `extractors/` - –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏ —Å—É–º–º–∞—Ä–∏–∑–∞—Ü–∏—è –∑–∞–¥–∞—á
- `matchers/` - —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á —á–µ—Ä–µ–∑ —ç–º–±–µ–¥–¥–∏–Ω–≥–∏ –∏ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫–Ω–∞
- `transformers/` - –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É —Ñ–æ—Ä–º–∞—Ç–∞–º–∏ Telegram –∏ Asana
- `reporting/` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–æ–≤ –æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- `cache/` - –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- `loaders/` - –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ñ–∞–π–ª–æ–≤

**API (`api/`):**
- `asana_mcp_helpers.py` - —Ñ—É–Ω–∫—Ü–∏–∏-—Ö–µ–ª–ø–µ—Ä—ã –¥–ª—è –ø—Ä—è–º—ã—Ö –≤—ã–∑–æ–≤–æ–≤ MCP –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ Asana
- `direct_mcp.py` - –æ–±–µ—Ä—Ç–∫–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å MCP —á–µ—Ä–µ–∑ Cursor

**–°–∫—Ä–∏–ø—Ç—ã (`scripts/`):**
- `sync_farma.py` - —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞ –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ "–§–∞—Ä–º–∞+"

**–¢–µ—Å—Ç—ã (`tests/`):**
- `test_v2.py` - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ V2 –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

**–í–∞–∂–Ω–æ:** –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –≤–º–µ—Å—Ç–µ –∫–∞–∫ –µ–¥–∏–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏. –†–∞–±–æ—Ç–∞ —Å Asana API - —ç—Ç–æ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á, –Ω–µ –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç.

### –ü–æ—Ç–æ–∫ —Ä–∞–±–æ—Ç—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

```
1. –ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–¥–∞—á
   ‚îú‚îÄ Telegram –∑–∞–¥–∞—á–∏ (–∏–∑ JSON —Ñ–∞–π–ª–∞)
   ‚îî‚îÄ Asana –∑–∞–¥–∞—á–∏ (—á–µ—Ä–µ–∑ api/asana_mcp_helpers.py ‚Üí MCP API)

2. –ü—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞ (–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∫–∞—á–µ—Å—Ç–≤–∞)
   ‚îú‚îÄ –°—É–º–º–∞—Ä–∏–∑–∞—Ü–∏—è Asana –∑–∞–¥–∞—á (asana_summarizer.py)
   ‚îî‚îÄ –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫–æ–Ω (time_window.py)

3. –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ (asana_sync.py)
   ‚îú‚îÄ –ü–æ–ª—É—á–µ–Ω–∏–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ (—Å –∫–µ—à–µ–º —á–µ—Ä–µ–∑ embedding_cache.py)
   ‚îú‚îÄ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –≤—Ä–µ–º–µ–Ω–Ω—ã–º –æ–∫–Ω–∞–º
   ‚îú‚îÄ –ü–æ–∏—Å–∫ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π —á–µ—Ä–µ–∑ —ç–º–±–µ–¥–¥–∏–Ω–≥–∏
   ‚îî‚îÄ GPT-5 –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–ø-–∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤

4. –†–µ–∑—É–ª—å—Ç–∞—Ç—ã
   ‚îú‚îÄ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–∞
   ‚îî‚îÄ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ/—Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á –≤ Asana (—á–µ—Ä–µ–∑ api/asana_mcp_helpers.py)
```

–í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –≤–º–µ—Å—Ç–µ –¥–ª—è –µ–¥–∏–Ω–æ–π —Ü–µ–ª–∏ - —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –∑–∞–¥–∞—á –º–µ–∂–¥—É Telegram –∏ Asana.

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ V2

### –ê–ª–≥–æ—Ä–∏—Ç–º

1. **–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è —Å—É–º–º–∞—Ä–∏–∑–∞—Ü–∏—è –∑–∞–¥–∞—á Asana** (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–∞)
   - –°—É–º–º–∞—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ GPT-5 Batch API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ–º–ø–∞–∫—Ç–Ω—ã—Ö –≤–µ—Ä—Å–∏–π
   - –í—ã—Å–æ–∫–∞—è –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è –ø–æ–ª–µ–∑–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, —É–¥–∞–ª–µ–Ω–∏–µ "–≤–æ–¥—ã"
   - –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (–¥–∞—Ç—ã, –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å) –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏ –∫ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É
   - –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—É–º–º–∞—Ä–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –≤–µ—Ä—Å–∏–π

2. **–ü–æ–ª—É—á–µ–Ω–∏–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ –¥–ª—è Telegram –∑–∞–¥–∞—á** (–±–∞—Ç—á–∞–º–∏)
   - –í—Å–µ Telegram –∑–∞–¥–∞—á–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –æ–¥–Ω–∏–º –±–∞—Ç—á–µ–º
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–µ—à–∞ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤

3. **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫–æ–Ω** –¥–ª—è –∫–∞–∂–¥–æ–π Telegram –∑–∞–¥–∞—á–∏
   - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞—Ç –∏–∑ `context`
   - –û—Å–Ω–æ–≤–Ω–æ–µ –æ–∫–Ω–æ: ¬±7 –¥–Ω–µ–π (—Ç—â–∞—Ç–µ–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑)
   - –†–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ –æ–∫–Ω–æ: ¬±30 –¥–Ω–µ–π (–∫—Ä–∞—Ç–∫–∏–π –∞–Ω–∞–ª–∏–∑)
   - –î–∞–ª—å–Ω–µ–µ –æ–∫–Ω–æ: ¬±90 –¥–Ω–µ–π (–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑)

4. **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∑–∞–¥–∞—á Asana –ø–æ –æ–∫–Ω–∞–º**
   - –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è: –æ—Å–Ω–æ–≤–Ω–æ–µ > —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ > –¥–∞–ª—å–Ω–µ–µ
   - –†–∞–∑–Ω—ã–µ –ø–æ—Ä–æ–≥–∏ —Å—Ö–æ–∂–µ—Å—Ç–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –æ–∫–æ–Ω

5. **–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π –ø–æ–∏—Å–∫ —á–µ—Ä–µ–∑ —ç–º–±–µ–¥–¥–∏–Ω–≥–∏**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—É–º–º–∞—Ä–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –≤–µ—Ä—Å–∏–π –¥–ª—è —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤
   - –ö–æ—Å–∏–Ω—É—Å–Ω–æ–µ —Å—Ö–æ–¥—Å—Ç–≤–æ —Å –∑–∞–¥–∞—á–∞–º–∏ –≤ –æ–∫–Ω–∞—Ö
   - –¢–æ–ø-–∫–∞–Ω–¥–∏–¥–∞—Ç—ã –¥–ª—è GPT-5 –ø—Ä–æ–≤–µ—Ä–∫–∏

6. **GPT-5 –ø—Ä–æ–≤–µ—Ä–∫–∞** –¥–ª—è —Ç–æ–ø-–∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–æ–ª–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ (–Ω–µ —Å—É–º–º–∞—Ä–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ)
   - –¢–æ–ª—å–∫–æ –¥–ª—è –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π (score –º–µ–∂–¥—É –ø–æ—Ä–æ–≥–∞–º–∏)

### –í—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫–Ω–∞

**–û—Å–Ω–æ–≤–Ω–æ–µ –æ–∫–Ω–æ** (¬±7 –¥–Ω–µ–π):
- –ü–æ—Ä–æ–≥: `low_threshold` (0.65)
- –ú–∞–∫—Å–∏–º—É–º 5 –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤ –¥–ª—è GPT-5

**–†–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ –æ–∫–Ω–æ** (¬±30 –¥–Ω–µ–π):
- –ü–æ—Ä–æ–≥: `low_threshold + 0.05` (0.70)
- –ú–∞–∫—Å–∏–º—É–º 3 –∫–∞–Ω–¥–∏–¥–∞—Ç–∞

**–î–∞–ª—å–Ω–µ–µ –æ–∫–Ω–æ** (¬±90 –¥–Ω–µ–π):
- –ü–æ—Ä–æ–≥: `similarity_threshold` (0.75)
- –ú–∞–∫—Å–∏–º—É–º 2 –∫–∞–Ω–¥–∏–¥–∞—Ç–∞

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è —Å—É–º–º–∞—Ä–∏–∑–∞—Ü–∏—è

–ó–∞–¥–∞—á–∏ Asana —Å—É–º–º–∞—Ä–∏–∑–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ GPT-5 Batch API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ–º–ø–∞–∫—Ç–Ω—ã—Ö –≤–µ—Ä—Å–∏–π:
- –£–¥–∞–ª–µ–Ω–∏–µ "–≤–æ–¥—ã", –æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ —Ñ–∞–∫—Ç–æ–≤
- –í—ã—Å–æ–∫–∞—è –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è –ø–æ–ª–µ–∑–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (–¥–∞—Ç—ã, –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å) –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ
- –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ `gid` + `modified_at`

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
- –î–ª—è —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤: —Å—É–º–º–∞—Ä–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è (–∫–æ–º–ø–∞–∫—Ç–Ω–∞—è, –ª—É—á—à–µ –∫–∞—á–µ—Å—Ç–≤–æ)
- –î–ª—è GPT-5 –ø—Ä–æ–≤–µ—Ä–∫–∏: –ø–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç (–º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å)

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
cd tg-analyz
source .venv/bin/activate

# –¢–µ—Å—Ç V2 –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏
python scripts/analysis/sync/test_v2.py --limit-telegram 5 --limit-asana 10 --use-mcp

# –ü–æ–ª–Ω—ã–π –∑–∞–ø—É—Å–∫ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ (dry_run)
python scripts/analysis/sync/sync_farma.py
```

–õ–æ–≥–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `logs/sync_*.log`

### –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```python
from scripts.analysis.sync.core.asana_sync import AsanaSync
from pathlib import Path

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å V2 –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
sync = AsanaSync(
    use_time_windows=True,
    use_embedding_cache=True,
    use_task_summarization=True
)

# –ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–¥–∞—á
telegram_tasks = sync.load_telegram_tasks(Path("results/farma/extracted/farma_tasks_extracted.json"))
asana_tasks = [...]  # –ó–∞–≥—Ä—É–∑–∏—Ç—å —á–µ—Ä–µ–∑ MCP –∏–ª–∏ –∏–∑ —Ñ–∞–π–ª–∞

# –°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ V2
matching = sync.find_matching_tasks_v2(
    telegram_tasks,
    asana_tasks,
    similarity_threshold=0.75,
    low_threshold=0.65,
    use_embeddings=True,
    use_two_stage_matching=True,
    use_gpt5_verification=False,  # GPT-5 —Ç–æ–ª—å–∫–æ –¥–ª—è –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π
    verbose=True
)

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–∞
report = sync.generate_sync_report(matching, Path("results/farma/sync/sync_report.json"))
```

## –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –≠–º–±–µ–¥–¥–∏–Ω–≥–∏ vs GPT-5

**–≠–º–±–µ–¥–¥–∏–Ω–≥–∏ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):**
- ‚ö° –ë—ã—Å—Ç—Ä–æ: ~3-5 –º–∏–Ω—É—Ç –¥–ª—è 21√ó100 –∑–∞–¥–∞—á
- üí∞ –î–µ—à–µ–≤–æ: ~$0.002 (–ø–æ—á—Ç–∏ –±–µ—Å–ø–ª–∞—Ç–Ω–æ)
- ‚úÖ –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ç–æ—á–Ω–æ –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ—Ö–æ–∂–∏—Ö –∑–∞–¥–∞—á

**GPT-5 (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):**
- üêå –ú–µ–¥–ª–µ–Ω–Ω–æ: ~70 –º–∏–Ω—É—Ç –¥–ª—è 21√ó100 –∑–∞–¥–∞—á
- üí∏ –î–æ—Ä–æ–≥–æ: ~$20-50
- üéØ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å

### –î–≤—É—Ö—ç—Ç–∞–ø–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
1. **–≠—Ç–∞–ø 1:** –ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ —á–µ—Ä–µ–∑ —ç–º–±–µ–¥–¥–∏–Ω–≥–∏
   - –ï—Å–ª–∏ score >= 0.75 ‚Üí —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –Ω–∞–π–¥–µ–Ω–æ ‚úÖ
   - –ï—Å–ª–∏ score < 0.65 ‚Üí —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –Ω–µ—Ç ‚ùå
   - –ï—Å–ª–∏ 0.65 <= score < 0.75 ‚Üí –ø–µ—Ä–µ—Ö–æ–¥ –∫ —ç—Ç–∞–ø—É 2 ‚ö†Ô∏è

2. **–≠—Ç–∞–ø 2:** GPT-5 –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π
   - –¢–æ–ª—å–∫–æ –¥–ª—è –∑–∞–¥–∞—á —Å score –º–µ–∂–¥—É 0.65 –∏ 0.75
   - –ï—Å–ª–∏ GPT-5 –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç (score >= 0.75) ‚Üí —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –Ω–∞–π–¥–µ–Ω–æ ‚úÖ

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ù–∞—Ö–æ–¥–∏—Ç –±–æ–ª—å—à–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π –±–µ–∑ –ª–∏—à–Ω–∏—Ö –∑–∞—Ç—Ä–∞—Ç
- GPT-5 –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π
- –≠–∫–æ–Ω–æ–º–∏—è —Å—Ä–µ–¥—Å—Ç–≤: GPT-5 –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ

### –ë–∞—Ç—á–∏–Ω–≥ –∏ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ë–∞—Ç—á–∏–Ω–≥ –∑–∞–ø—Ä–æ—Å–æ–≤:**
- –≠–º–±–µ–¥–¥–∏–Ω–≥–∏ –¥–ª—è Telegram –∑–∞–¥–∞—á: –æ–¥–∏–Ω –±–∞—Ç—á (–≤—Å–µ –∑–∞–¥–∞—á–∏ —Å—Ä–∞–∑—É)
- –≠–º–±–µ–¥–¥–∏–Ω–≥–∏ –¥–ª—è Asana –∑–∞–¥–∞—á: –±–∞—Ç—á–∞–º–∏ –ø–æ 100
- –≠–∫–æ–Ω–æ–º–∏—è: ~98% –Ω–∞ –∑–∞–ø—Ä–æ—Å–∞—Ö –∫ API

**–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤:**
- –õ–æ–∫–∞–ª—å–Ω—ã–π –∫–µ—à: `cache/embeddings/embeddings_cache.json`
- OpenAI –∫–µ—à: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ (~50% —ç–∫–æ–Ω–æ–º–∏–∏)
- –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ: `created_at`, `last_used_at`, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ hits/misses
- –≠–∫–æ–Ω–æ–º–∏—è: 75-100% –Ω–∞ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–∞–ø—É—Å–∫–∞—Ö

–ü–æ–¥—Ä–æ–±–Ω–µ–µ —Å–º. `OPTIMIZATION.md`

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `use_embeddings=True` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- –í–∫–ª—é—á–∞–π—Ç–µ `use_two_stage_matching=True` –¥–ª—è –ª—É—á—à–µ–≥–æ –ø–æ–∫—Ä—ã—Ç–∏—è
- –û—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ä–æ–≥ —Å—Ö–æ–∂–µ—Å—Ç–∏: 0.75-0.8
- –ù–∏–∑–∫–∏–π –ø–æ—Ä–æ–≥ –¥–ª—è –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π: 0.65-0.70
- –í–∫–ª—é—á–∞–π—Ç–µ `use_task_summarization=True` –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫–Ω–∞ –∏ –∫–µ—à –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞—Ç—Ä–∞—Ç

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç—á–µ—Ç–∞

```json
{
  "timestamp": "2025-11-09T17:00:00",
  "summary": {
    "matched_tasks": 12,
    "telegram_only": 9,
    "asana_only": 3,
    "coverage_analysis": {
      "total_telegram_tasks": 21,
      "covered_tasks": 12,
      "coverage_percentage": 57.1,
      "status_breakdown": {
        "completed": 5,
        "in_progress": 4,
        "not_started": 3
      }
    }
  },
  "matches": [
    {
      "telegram_task": {...},
      "asana_task": {...},
      "similarity_score": 0.85,
      "asana_context": {
        "summary": "–ö—Ä–∞—Ç–∫–∞—è –≤—ã–∂–∏–º–∫–∞ –∑–∞–¥–∞—á–∏",
        "key_points": ["–ö–ª—é—á–µ–≤–æ–π –º–æ–º–µ–Ω—Ç 1", "–ö–ª—é—á–µ–≤–æ–π –º–æ–º–µ–Ω—Ç 2"],
        "status": "in_progress"
      },
      "recommended_updates": {...}
    }
  ],
  "telegram_only": [...],
  "asana_only": [...]
}
```

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

```python
ASANA_PROJECT_GID = "1210655252186716"  # –§–∞—Ä–º–∞+
ASANA_WORKSPACE_GID = "624391999090674"
ASANA_USER_GID = "1169547205416171"
similarity_threshold = 0.75  # –û—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ä–æ–≥ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è
low_threshold = 0.65  # –ù–∏–∑–∫–∏–π –ø–æ—Ä–æ–≥ –¥–ª—è –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π
```

## –†–∞–±–æ—Ç–∞ —Å Asana API (–≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç)

–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Asana API —á–µ—Ä–µ–∑ MCP –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á. –≠—Ç–æ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –Ω–µ –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç.

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å MCP

MCP –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–æ—Å—Ç—É–ø–Ω—ã –Ω–∞–ø—Ä—è–º—É—é –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ Cursor —á–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü–∏–∏ —Ç–∏–ø–∞:
- `mcp_mcp-config-el8wcq_ASANA_GET_TASKS_FROM_A_PROJECT()`
- `mcp_mcp-config-el8wcq_ASANA_CREATE_A_TASK()`
- `mcp_mcp-config-el8wcq_ASANA_UPDATE_A_TASK()`

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

**–ß–µ—Ä–µ–∑ —Ö–µ–ª–ø–µ—Ä—ã (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):**
```python
from scripts.analysis.sync.scripts.sync_farma import load_asana_tasks_via_mcp

# –í sync_farma.py –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
asana_tasks = load_asana_tasks_via_mcp(mcp_client)
```

**–ü—Ä—è–º—ã–µ –≤—ã–∑–æ–≤—ã (–¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è):**
```python
result = mcp_mcp-config-el8wcq_ASANA_GET_TASKS_FROM_A_PROJECT(
    project_gid="1210655252186716",
    limit=100,
    opt_fields=["name", "notes", "completed"]
)

if result.get('successfull') or result.get('successful'):
    tasks = result.get('data', {}).get('data', [])
```

**–ß–µ—Ä–µ–∑ –æ–±–µ—Ä—Ç–∫—É (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):**
```python
from scripts.analysis.sync.api.direct_mcp import create_direct_mcp_client

mcp_client = create_direct_mcp_client()
result = mcp_client.call_tool("mcp_mcp-config-el8wcq_ASANA_GET_TASKS_FROM_A_PROJECT", {...})
```

**–í–∞–∂–Ω–æ:** –†–∞–±–æ—Ç–∞ —Å Asana API - —ç—Ç–æ —á–∞—Å—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏, –∞ –Ω–µ –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç. –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –≤–º–µ—Å—Ç–µ –¥–ª—è –µ–¥–∏–Ω–æ–π —Ü–µ–ª–∏ - —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –∑–∞–¥–∞—á –º–µ–∂–¥—É Telegram –∏ Asana.

## –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è

**–î–ª—è —Å–æ–≤–ø–∞–¥–∞—é—â–∏—Ö –∑–∞–¥–∞—á:**
- –î–æ–±–∞–≤–ª—è–µ—Ç –æ–ø–∏—Å–∞–Ω–∏—è –∏–∑ Telegram –≤ `notes`
- –î–æ–±–∞–≤–ª—è–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –æ–±—Å—É–∂–¥–µ–Ω–∏–π (—á–∞—Ç—ã, —Ç–µ–º—ã)
- –û–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å—ã (`completed`)
- –î–æ–±–∞–≤–ª—è–µ—Ç –¥–µ–¥–ª–∞–π–Ω—ã (`due_on`)

**–î–ª—è –∑–∞–¥–∞—á —Ç–æ–ª—å–∫–æ –≤ Telegram:**
- –°–æ–∑–¥–∞–µ—Ç –∑–∞–¥–∞—á—É –≤ Asana
- –î–æ–±–∞–≤–ª—è–µ—Ç –≤ –ø—Ä–æ–µ–∫—Ç
- –ù–∞–∑–Ω–∞—á–∞–µ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤–µ—Å—å –∫–æ–Ω—Ç–µ–∫—Å—Ç

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. –ó–∞–ø—É—Å—Ç–∏—Ç—å `test_v2.py` —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏ ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
2. –ó–∞–ø—É—Å—Ç–∏—Ç—å `sync_farma.py` (dry_run=True) ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç—á–µ—Ç
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è (score >= 0.75)
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–µ—à–∞ (hit rate)
5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫–æ–Ω
6. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è —á–µ—Ä–µ–∑ `sync_farma.py` (dry_run=False)

## –°—Ç–∞—Ç—É—Å

- [x] –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- [x] –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —á–µ—Ä–µ–∑ —ç–º–±–µ–¥–¥–∏–Ω–≥–∏
- [x] –î–≤—É—Ö—ç—Ç–∞–ø–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ
- [x] –í—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫–Ω–∞ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
- [x] –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ (–ª–æ–∫–∞–ª—å–Ω—ã–π + OpenAI)
- [x] –ë–∞—Ç—á–∏–Ω–≥ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ OpenAI
- [x] –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è —Å—É–º–º–∞—Ä–∏–∑–∞—Ü–∏—è –∑–∞–¥–∞—á Asana —á–µ—Ä–µ–∑ GPT-5 Batch API
- [x] –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã—Ö –≤—ã–∂–∏–º–æ–∫ –∏–∑ –∑–∞–¥–∞—á Asana
- [x] –ê–Ω–∞–ª–∏–∑ –ø–æ–∫—Ä—ã—Ç–∏—è Telegram –∑–∞–¥–∞—á –≤ Asana
- [x] –û–±–æ–≥–∞—â–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
- [x] –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–æ–≤
- [x] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ñ–∞–π–ª—ã
- [x] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á (–≥–æ—Ç–æ–≤–æ, —Ç—Ä–µ–±—É–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á (–≥–æ—Ç–æ–≤–æ, —Ç—Ä–µ–±—É–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- `ARCHITECTURE_V2.md` - –ø–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã V2
- `OPTIMIZATION.md` - –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –±–∞—Ç—á–∏–Ω–≥–∞ –∏ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è
- `BEST_PRACTICES.md` - –ª—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è
